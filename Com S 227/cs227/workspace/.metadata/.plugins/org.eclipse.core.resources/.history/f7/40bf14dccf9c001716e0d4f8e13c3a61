package hw1;

public class Traveler {
	
	private int moneyLeft;
	
	private String currentCity;
	
	private String journal;
	
	private int postcardCost;
	
	private int postcardsSent;
	
	private int nightsInTrainStation;
	
	public static final int SYMPATHY_FACTOR = 30;
	
	public Traveler(int initialFunds, City initialCity)
	{
		moneyLeft = initialFunds;
		currentCity = initialCity.getName();
		journal = (initialCity.getName() + "(start)");
		postcardCost = initialCity.costToSendPostcard();
		nightsInTrainStation = 0;
		postcardsSent = 0;
	}
	
	public String getCurrentCity()
	{
		return currentCity;
	}
	
	public int getCurrentFunds()
	{
		return moneyLeft;
	}
	
	public String getJournal()
	{
		return journal;
	}
	
	public boolean isSOL()
	{
		if (moneyLeft < postcardCost)
		{
			return true;
		}
		else
		{
			return false;
		}
	}
	
	public int getTotalNightsInTrainStation()
	{
		return nightsInTrainStation;
	}
	
	public void visit(City c, int numNights)
	{
		currentCity = c.getName();
		journal = journal + ", " + c.getName() + "(" + numNights + ")";
		postcardCost = c.costToSendPostcard();
		int cityCost = c.lodgingCost();
		int possibleMoneyLeft = moneyLeft - cityCost * numNights;
		if (possibleMoneyLeft < 0)
		{
			while (possibleMoneyLeft < 0)
			{
				nightsInTrainStation = nightsInTrainStation + 1;
				possibleMoneyLeft = possibleMoneyLeft + c.lodgingCost();
			}
			moneyLeft = possibleMoneyLeft;
		}
		else
		{
			moneyLeft = possibleMoneyLeft;
			
		}
	}
	
	public void sendPostcardsHome(int howMany)
	{
		int possibleMoneyLeft = moneyLeft - howMany * postcardCost;
		int numCouldntSend = 0;
		if (possibleMoneyLeft < 0)
		{
			while (possibleMoneyLeft < 0)
			{
				numCouldntSend = numCouldntSend + 1;
				possibleMoneyLeft = possibleMoneyLeft + postcardCost;
			}
			moneyLeft = possibleMoneyLeft;
			postcardsSent = howMany - numCouldntSend;
		}
		else
		{
			moneyLeft = possibleMoneyLeft;
			postcardsSent = howMany;
		}
	}
	
	public void callHomeForMoney()
	{
		moneyLeft = moneyLeft + SYMPATHY_FACTOR * postcardsSent;
		postcardsSent = 0;
	}
}









