package hw1;

/**
 * This class implements a traveler that can visit cities.
 * @author Harrison Helgevold
 *
 */
public class Traveler {
	
	/**
	 * An instance variable that stores the amount of money the traveler has remaining.
	 */
	private int moneyLeft;
	
	/**
	 * An instance variable that stores the name of the current city the traveler is in.
	 */
	private String currentCity;
	
	/**
	 * An instance variable that stores the journal of the traveler; which lists where
	 * and for how long the traveler has been.
	 */
	private String journal;
	
	/**
	 * An instance variable that stores the cost of one postcard.
	 */
	private int postcardCost;
	
	/**
	 * An instance variable that stores the number of postcards sent home since the last
	 * time you called home for money.
	 */
	private int postcardsSent;
	
	/**
	 * An instance variable that stores the number of nights the traveler has stayed
	 * in the city train station.
	 */
	private int nightsInTrainStation;
	
	/**
	 * An instance variable that stores the fixed 
	 */
	public static final int SYMPATHY_FACTOR = 30;
	
	public Traveler(int initialFunds, City initialCity)
	{
		moneyLeft = initialFunds;
		currentCity = initialCity.getName();
		journal = (initialCity.getName() + "(start)");
		postcardCost = initialCity.costToSendPostcard();
		nightsInTrainStation = 0;
		postcardsSent = 0;
	}
	
	public String getCurrentCity()
	{
		return currentCity;
	}
	
	public int getCurrentFunds()
	{
		return moneyLeft;
	}
	
	public String getJournal()
	{
		return journal;
	}
	
	public boolean isSOL()
	{
		if (moneyLeft < postcardCost)
		{
			return true;
		}
		else
		{
			return false;
		}
	}
	
	public int getTotalNightsInTrainStation()
	{
		return nightsInTrainStation;
	}
	
	public void visit(City c, int numNights)
	{
		currentCity = c.getName();
		journal = journal + ", " + c.getName() + "(" + numNights + ")";
		postcardCost = c.costToSendPostcard();
		int cityCost = c.lodgingCost();
		int possibleMoneyLeft = moneyLeft - cityCost * numNights;
		if (possibleMoneyLeft < 0)
		{
			while (possibleMoneyLeft < 0)
			{
				nightsInTrainStation = nightsInTrainStation + 1;
				possibleMoneyLeft = possibleMoneyLeft + c.lodgingCost();
			}
			moneyLeft = possibleMoneyLeft;
		}
		else
		{
			moneyLeft = possibleMoneyLeft;
			
		}
	}
	
	public void sendPostcardsHome(int howMany)
	{
		int possibleMoneyLeft = moneyLeft - howMany * postcardCost;
		int numCouldntSend = 0;
		if (possibleMoneyLeft < 0)
		{
			while (possibleMoneyLeft < 0)
			{
				numCouldntSend = numCouldntSend + 1;
				possibleMoneyLeft = possibleMoneyLeft + postcardCost;
			}
			moneyLeft = possibleMoneyLeft;
			postcardsSent = postcardsSent + (howMany - numCouldntSend);
		}
		else
		{
			moneyLeft = possibleMoneyLeft;
			postcardsSent = postcardsSent + howMany;
		}
	}
	
	public void callHomeForMoney()
	{
		moneyLeft = moneyLeft + SYMPATHY_FACTOR * postcardsSent;
		postcardsSent = 0;
	}
}









